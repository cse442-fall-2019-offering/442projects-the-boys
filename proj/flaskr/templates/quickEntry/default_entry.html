{% extends 'base.html' %}

{% block header %}
{% endblock %}

{% block content %}

    <form method="post" class="container">
        <h2 class="text-center">Expenses </h2>
        <div class="form-group">
            <select class="form-control" id="category" name="category" required="required">
                <option selected disabled>Select a Category</option>
                <option>Food</option>
                <option>Medical</option>
                <option>Other</option>
                <option>Phone</option>
                <option>Recreational</option>
                <option>Rent / Mortgage</option>
                <option>Utilities</option>
                <option>Vehicle</option>
            </select>
        </div>
        <div class="form-group">
            <input type="text" class="form-control" placeholder="Expense" id="title" name="title" required="required">
        </div>
        <div class="form-group">
            <input type="number" class="form-control" placeholder="Price" id="cost" name="cost" required="required">
        </div>

        <div class="form-group">
            <select class="form-control" id="rate" name="rate" required="required">
                <option selected disabled>How Often?</option>
                <option>One Time</option>
                <option>Daily</option>
                <option>Weekly</option>
                <option>Monthly</option>
                <option>Yearly</option>
            </select>
        </div>
        <div class="form-group">
            <button type="submit" class="btn btn-outline-success btn-block">Add Expense</button>
        </div>
    </form>


    <div class="jumbotron jumbotron-fluid">
        <div class="container">
            <h1 style="margin-bottom:50px; margin-top:-55px;" class="display-2 text-center">Tip of the day</h1>
            <p class="lead text-center">"If you want more money rob a bank"</p>
        </div>
    </div>

    <div class="list-group" style="margin-top:25px;">

        {% for expense in expenses %}
            <a href="{{ url_for('quickEntry.editExpense',expense_id=expense.id, category=expense.category, title=expense.title, cost=expense.cost, rate=expense.rate) }}" class="list-group-item list-group-item-action list-group-item-success">
                <div class="d-flex w-100 justify-content-between">
                    <h4>{{ expense['category'] }} - {{ expense['title'] }}</h4>
                    <small>{{ expense['created'] }}</small>
                </div>
                <p>${{ expense['cost'] }} {{ expense['rate'] }}</p>
                <form action="{{ url_for('quickEntry.deleteEntry',expense_id=expense.id) }}" method="post">
                    <input type="submit" class="btn btn-danger" value="Delete" >
                </form>

                <form action="{{ url_for('quickEntry.editExpense',expense_id=expense.id, category=expense.category, title=expense.title, cost=expense.cost, rate=expense.rate) }}" method="post">
                    <input type="submit" class="btn btn-primary" value="Edit" >
                </form>

            </a>
        {% endfor %}
    </div>
{% endblock %}